{% extends "rango/base.html" %}
{% load staticfiles %}

{% block title_block %}
  All Rango users
{% endblock title_block %}

{% block body_block %}
  <div class="jumbotron p-4">
    <div class="container">
      <h1 class="jumbotron-heading">User Profiles</h1>
    </div>
  </div>

  <div class="container">
    <div class="row">
      {% if profiles %}
        <div class="panel-body">
          <div class="list-group">
            {% for p in profiles %}
              <div class="list-group-item">
                <h4 class="list-group-item-heading">
                
                {% if p.picture %}
                  <img src="{{ MEDIA_URL }}{{ p.picture}}"
                    width="35"
                    height="35"
                    alt="{{ p.user.username }}'s profile picture"
                  />
                {% else %}
                  <img src="https://loremflickr.com/35/35" alt="Placeholder profile picture" />
                {% endif %}
                
                <a href="{% url 'rango:profile' p.user.username %}">
                  {{ p.user.username }}
                </a>
                </h4>
              </div>
            {% endfor %}
          </div>
        </div>
      {% else %}
        <p>There are no users present on Rango.</p>
      {% endif %}
    </div>
  </div>
{% endblock %}